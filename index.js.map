{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nimport iziToast from 'izitoast';\nimport \"izitoast/dist/css/iziToast.min.css\"\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\n\nconst API_KEY = \"50190409-57f653f3b13017a76580224dc\";\n\nexport function getImagesByQuery(query) {\n    return axios(\"\", {\n        params: {\n            key: API_KEY,\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: \"true\",\n        }\n    })\n        .then(res => res.data)\n        .catch(error => {\n            console.log(error);\n            throw error;\n        });\n\n    // .catch(error => {\n    //     console.log(error);\n    //     iziToast.error({\n    //         title: 'Error',\n    //     });\n};\n\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryEl = document.querySelector('.gallery');\n\nconst simpleLightbox = new SimpleLightbox(\n    '.gallery .gallery-link', { captionsData: 'alt' }\n);\n\nexport function createGallery(images) {\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n            </a>\n            <div class=\"image-info\">\n                <p><strong>Likes:</strong> ${likes}</p>\n                <p><strong>Views:</strong> ${views}</p>\n                <p><strong>Comments:</strong> ${comments}</p>\n                <p><strong>Downloads:</strong> ${downloads}</p>\n            </div>\n        </li>`\n    ).join(\"\");\n    galleryEl.innerHTML = markup;\n    simpleLightbox.refresh();\n}\n\nexport function clearGallery() {\n    galleryEl.innerHTML = \"\";\n}\n\nconst loader = document.querySelector('.loader');\n\nexport function showLoader() {\n    loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n    loader.classList.add('hidden');\n}\n","import iziToast from 'izitoast';\nimport \"izitoast/dist/css/iziToast.min.css\"\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport { clearGallery, createGallery, hideLoader, showLoader } from './js/render-functions.js';\n\nconst formEl = document.querySelector('.form');\nconst searchText = formEl.querySelector('input[name=\"search-text\"]');\nconst submitBtn = formEl.querySelector('button');\nconst loader = document.querySelector('.loader');\n\nformEl.addEventListener('submit', fetchOnFormSubmit);\n\nfunction fetchOnFormSubmit(e) {\n    e.preventDefault();\n    clearGallery();\n    const searchItems = e.target.elements['search-text'].value.trim();\n    if (searchItems === \"\") {\n        iziToast.warning({\n            title: 'Caution',\n            message: 'You forgot to type what you search',\n        });\n        return\n    }\n    showLoader(loader);\n    getImagesByQuery(searchItems)\n        .then((res) => {\n            if (res.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n                return\n            }\n            createGallery(res.hits)\n        })\n        .catch(error => {\n            console.log(error)\n            iziToast.error({\n                title: 'Error',\n                message: 'Illegal operation',\n            });\n        })\n        .finally(() => {\n            hideLoader(loader);\n            formEl.reset();\n        });\n}\n\nshowLoader();\nhideLoader();\n"],"names":["axios","API_KEY","getImagesByQuery","query","res","error","galleryEl","simpleLightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","loader","showLoader","hideLoader","formEl","fetchOnFormSubmit","e","searchItems","iziToast"],"mappings":"owBAIAA,EAAM,SAAS,QAAU,2BAEzB,MAAMC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACpC,OAAOH,EAAM,GAAI,CACb,OAAQ,CACJ,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACf,CACT,CAAK,EACI,KAAKC,GAAOA,EAAI,IAAI,EACpB,MAAMC,GAAS,CACZ,cAAQ,IAAIA,CAAK,EACXA,CAClB,CAAS,CAOT,CC1BA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAE7CC,EAAiB,IAAIC,EACvB,yBAA0B,CAAE,aAAc,KAAO,CACrD,EAEO,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAC/F;AAAA,4CACoCL,CAAa;AAAA,kDACPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,6CAG/BC,CAAK;AAAA,6CACLC,CAAK;AAAA,gDACFC,CAAQ;AAAA,iDACPC,CAAS;AAAA;AAAA,cAG1D,EAAM,KAAK,EAAE,EACTZ,EAAU,UAAYK,EACtBJ,EAAe,QAAO,CAC1B,CAEO,SAASY,GAAe,CAC3Bb,EAAU,UAAY,EAC1B,CAEA,MAAMc,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,GAAa,CACzBD,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASE,GAAa,CACzBF,EAAO,UAAU,IAAI,QAAQ,CACjC,CCjCA,MAAMG,EAAS,SAAS,cAAc,OAAO,EAC1BA,EAAO,cAAc,2BAA2B,EACjDA,EAAO,cAAc,QAAQ,EAChC,SAAS,cAAc,SAAS,EAE/CA,EAAO,iBAAiB,SAAUC,CAAiB,EAEnD,SAASA,EAAkBC,EAAG,CAC1BA,EAAE,eAAc,EAChBN,IACA,MAAMO,EAAcD,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OAC3D,GAAIC,IAAgB,GAAI,CACpBC,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,oCACrB,CAAS,EACD,MACH,CACDN,EAAiB,EACjBnB,EAAiBwB,CAAW,EACvB,KAAMtB,GAAQ,CACX,GAAIA,EAAI,KAAK,SAAW,EAAG,CACvBuB,EAAS,MAAM,CACX,QAAS,0EAC7B,CAAiB,EACD,MACH,CACDlB,EAAcL,EAAI,IAAI,CAClC,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,IAAIA,CAAK,EACjBsB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mBACzB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXL,EAAiB,EACjBC,EAAO,MAAK,CACxB,CAAS,CACT,CAEAF,IACAC,EAAY"}